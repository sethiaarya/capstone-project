<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Golden Twilight • Dashboard</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        fontFamily: { sans: ["Inter","system-ui","Segoe UI","Roboto","Helvetica Neue","Arial","Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"] },
        extend: {
          colors: { brand: { navy:"#0b2740", deep:"#0e3b62", gold:"#f3b400" } },
          boxShadow: { card:"0 8px 24px rgba(2,10,30,0.10)", soft:"0 1px 2px rgba(10,20,35,0.06), 0 4px 16px rgba(10,20,35,0.06)" },
          borderRadius: { xl2:"1rem" }
        }
      }
    }
  </script>
  <style>
    :root{ --ink:#0e1a2b; --muted:#5b6b7f; --line:#e8edf3; --panel:#ffffff; --panelTint:#f6f8fb; }
    body{ font-feature-settings:"ss01" 1; background:var(--panelTint); }
    .hero{ background:linear-gradient(180deg,#0b2740 0%, #0e3b62 55%, #103e68 100%); }
    .card{ background:var(--panel); border:1px solid #eef2f6; border-radius:14px; box-shadow:0 1px 2px rgba(10,20,35,.04); }
    .kpi{ background:#fff; border:1px solid #e9eef5; border-radius:14px; box-shadow:0 6px 18px rgba(12,30,60,.06); }
    .pill{ padding:.25rem .5rem; border-radius:999px; background:#f2f5f9; color:#516079; font-size:.75rem; font-weight:600; }
    .btn{ display:inline-flex; align-items:center; gap:.5rem; padding:.55rem .9rem; border-radius:10px; font-weight:600; }
    .btn-gold{ background:#f3b400; color:#17140a; }
    .btn-navy{ background:#0b2740; color:#fff; }
    .input{ background:#fff; border:1px solid #e6ebf2; border-radius:10px; padding:.6rem .7rem; outline:none; }
    .input:focus{ border-color:#c9d8ff; box-shadow:0 0 0 3px rgba(64,111,255,.12); }
    .section-title{ color:var(--ink); font-weight:700; font-size:1.05rem; letter-spacing:.2px; }
    .subtitle{ color:#cfe1f7; }

    /* layout hotfixes */
    main { margin-top: 1.5rem !important; }
    main .grid { align-items: start; }
    section, aside { min-width: 0; }
    .card { position: relative; z-index: 0; }

    #wishForm { display:grid; grid-template-columns:minmax(0,1fr) minmax(0,1fr) auto; gap:.625rem; }
    #wishForm .input { min-width:0; }
    #wishForm .btn { width:64px; justify-content:center; }
    #tripForm .input { min-width:0; }
  </style>
</head>

<body class="font-sans text-[15px] leading-[1.45] text-[color:var(--ink)]">
  <!-- Top nav -->
  <header class="w-full bg-white/95 backdrop-blur border-b border-[color:var(--line)]">
    <div class="max-w-6xl mx-auto px-4 h-14 flex items-center justify-between">
      <div class="flex items-center gap-2 font-semibold">
        <span class="inline-block w-2 h-2 rounded-full bg-brand-gold"></span>
        <span class="text-[17px]">Golden Twilight</span>
      </div>
      <nav class="hidden sm:flex items-center gap-6 text-[14px]">
        <a href="/index.html" class="text-[color:var(--muted)] hover:text-[color:var(--ink)]">Explore</a>
        <a href="/pages/flights.html" class="text-[color:var(--muted)] hover:text-[color:var(--ink)]">Flights</a>
        <span class="px-3 py-1 rounded-lg bg-[rgba(243,180,0,.14)] text-[13px] font-semibold text-[color:var(--ink)]">Dashboard</span>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="max-w-6xl mx-auto px-4 pt-8 pb-7">
      <div class="flex items-start justify-between">
        <div>
          <h1 class="text-white text-[32px] sm:text-[36px] font-extrabold tracking-tight">Your Dashboard</h1>
          <p class="subtitle mt-1 text-[15px]">Plan smarter. Track faster. <span class="text-brand-gold font-semibold">Save beautifully.</span></p>
        </div>

        <!-- Auth controls (IDs used by dashboard.js) -->
        <div class="flex items-center gap-4">
          <div id="avatarCircle" class="w-12 h-12 rounded-full border border-white/20"></div>
          <div class="flex items-center gap-3">
            <div class="text-sm">
              <div class="text-white/70">Status</div>
              <div id="statusLabel" class="text-white font-semibold">Guest</div>
            </div>
            <span id="navUserName" class="hidden text-white text-lg font-semibold"></span>
            <button id="logoutBtn" class="hidden px-4 py-2 rounded bg-white/10 text-white hover:bg-white/20">Sign out</button>
            <button id="openAuth" class="px-4 py-2 rounded bg-[#f2b800] text-black font-semibold">Sign in / Create profile</button>
          </div>
        </div>
      </div>

      <!-- KPIs -->
      <div class="mt-5 grid grid-cols-2 sm:grid-cols-4 gap-3">
        <div class="kpi px-4 py-3">
          <div class="text-[12px] text-[color:var(--muted)]">Trips Planned</div>
          <div class="flex items-baseline gap-2"><span id="kpiTrips" class="text-[26px] font-extrabold text-[color:var(--ink)]">0</span></div>
        </div>
        <div class="kpi px-4 py-3">
          <div class="text-[12px] text-[color:var(--muted)]">Hotels Saved</div>
          <div class="flex items-baseline gap-2"><span id="kpiHotels" class="text-[26px] font-extrabold text-[color:var(--ink)]">0</span></div>
        </div>
        <div class="kpi px-4 py-3">
          <div class="text-[12px] text-[color:var(--muted)]">Wishlist Places</div>
          <div class="flex items-baseline gap-2"><span id="kpiWishlist" class="text-[26px] font-extrabold text-[color:var(--ink)]">0</span></div>
        </div>
        <div class="kpi px-4 py-3">
          <div class="text-[12px] text-[color:var(--muted)]">Last Added</div>
          <div class="flex items-baseline gap-2"><span id="kpiActivity" class="text-[26px] font-extrabold text-[color:var(--ink)]">—</span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- MAIN -->
  <main class="max-w-6xl mx-auto px-4 pb-10">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-5">
      <!-- LEFT: Trips + Activity -->
      <section class="lg:col-span-2 space-y-5 min-w-0">
        <!-- Active Trips -->
        <div class="card p-4 shadow-card">
          <div class="flex items-center justify-between mb-3">
            <h2 class="section-title">Active Trips</h2>
            <a href="/pages/flights.html" class="btn btn-navy text-[13px]">Find Flights</a>
          </div>

          <form id="tripForm" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-[1fr_1fr_150px_150px_160px_auto] gap-2.5 mb-3">
            <input id="tripTitle" class="input" placeholder="Trip title"/>
            <input id="tripDest"  class="input" placeholder="Destination"/>
            <input id="tripStart" type="date" class="input"/>
            <input id="tripEnd"   type="date" class="input"/>
            <input id="tripBudget" class="input" placeholder="Budget (optional)"/>
            <button class="btn btn-gold shadow-soft">Add Trip</button>
          </form>

          <div id="tripsList" class="space-y-3">
            <div class="border border-[color:var(--line)] rounded-xl p-3 text-[color:var(--muted)]">No trips yet. Add one above.</div>
          </div>
        </div>

        <!-- Hotels -->
        <div class="border rounded-2xl p-0 shadow-sm">
          <div class="flex items-center justify-between px-4 py-3 border-b">
            <h3 class="font-semibold">Hotels
              <!-- NOTE: don't reuse kpiHotels ID; use a unique inline indicator if desired -->
              <span id="kpiHotelsInline" class="ml-1 text-[13px] text-[color:var(--muted)]">0</span>
            </h3>
            <a id="hotelDealsBtn" class="btn btn-light btn-sm" href="https://www.google.com/travel/hotels" target="_blank" rel="noopener">Find Hotels</a>
          </div>

          <form id="hotelForm" class="p-4 grid grid-cols-2 gap-2">
            <input id="hotelPlace" class="input col-span-2" placeholder="Place / hotel name" />
            <input id="hotelCheckIn" type="date" class="input" />
            <input id="hotelCheckOut" type="date" class="input" />
            <input id="hotelNote" class="input col-span-2" placeholder="Note (optional)" />
            <button type="submit" class="btn btn-navy col-span-2">Add</button>
          </form>

          <div id="hotelsList" class="p-4 pt-0 space-y-2"></div>
        </div>


    <!-- === Simran: My Flights section (from backend) === -->
<section class="mt-8">
  <h2 class="text-xl font-semibold text-slate-800 mb-3">
    My Booked Flights
  </h2>

  <p class="text-sm text-slate-500 mb-4">
    These are the flights you selected from the Flights page.
  </p>

  <div id="flights-list" class="flex flex-col gap-3 text-sm">
    <!-- Booking cards will appear here -->
  </div>
</section>
<!-- === END Simran section === -->

        <!-- Recent Activity -->
        <div class="card p-4 shadow-card">
          <h2 class="section-title mb-3">Recent Activity</h2>
          <div id="activityList" class="space-y-2.5">
            <div class="border border-[color:var(--line)] rounded-xl p-3 text-[color:var(--muted)]">No recent activity.</div>
          </div>
        </div>
      </section>

      <!-- RIGHT: Saved + Wishlist -->
      <aside class="space-y-5 min-w-0">
        <!-- Saved Destinations -->
        <div class="card p-4 shadow-card">
          <div class="flex items-center justify-between mb-3">
            <h2 class="section-title">Saved Destinations</h2>
            <span id="savedCount" class="pill">0</span>
          </div>
          <div id="savedList" class="space-y-2.5">
            <div class="border border-[color:var(--line)] rounded-xl p-3 text-[color:var(--muted)]">
              No saved destinations yet. Tap the heart on Explore ✨
            </div>
          </div>
        </div>

        <!-- Wishlist -->
        <div class="card p-4 shadow-card">
          <h2 class="section-title mb-3">Wishlist</h2>
          <form id="wishForm" class="mb-3">
            <input id="wishInput" class="input" placeholder="Place"/>
            <input id="wishNote"  class="input" placeholder="Note (optional)"/>
            <button class="btn btn-gold">Add</button>
          </form>
          <div id="wishlistList" class="space-y-2.5">
            <div class="border border-[color:var(--line)] rounded-xl p-3 text-[color:var(--muted)]">No wishlist items yet.</div>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer class="mt-6 bg-brand-navy text-white">
    <div class="max-w-6xl mx-auto px-4 py-8 grid grid-cols-1 sm:grid-cols-3 gap-8">
      <div>
        <h3 class="flex items-center gap-2 font-semibold">
          <span class="inline-block w-2 h-2 rounded-full bg-brand-gold"></span>
          Golden Twilight
        </h3>
        <p class="text-white/80 text-[14px] mt-2">Transform your travel dreams into reality with intelligent discovery and planning tools.</p>
      </div>
      <div>
        <h4 class="font-semibold mb-2">Explore</h4>
        <ul class="space-y-1 text-white/85 text-[14px]">
          <li><a href="/index.html#destinations" class="hover:underline">Destinations</a></li>
          <li><a href="/index.html#planner" class="hover:underline">Trip Planner</a></li>
          <li><a href="/index.html#insights" class="hover:underline">Local Insights</a></li>
          <li><a href="/index.html#community" class="hover:underline">Community</a></li>
        </ul>
      </div>
      <div>
        <h4 class="font-semibold mb-2">Support</h4>
        <ul class="space-y-1 text-white/85 text-[14px]">
          <li><a href="#" class="hover:underline">Help Center</a></li>
          <li><a href="#" class="hover:underline">Contact Us</a></li>
          <li><a href="#" class="hover:underline">Privacy Policy</a></li>
          <li><a href="#" class="hover:underline">Terms of Service</a></li>
        </ul>
      </div>
    </div>

  </footer>

  <!-- Auth Modal (IDs match dashboard.js) -->
  <div id="authModal" class="fixed inset-0 hidden items-center justify-center bg-black/50 z-50">
    <div class="w-[520px] max-w-[92vw] rounded-2xl bg-white p-6 shadow-xl">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-xl font-semibold">Welcome</h3>
        <button id="closeAuth" class="px-3 py-1 rounded bg-gray-100">Close</button>
      </div>

      <p class="text-sm text-gray-600 mb-4">
        Create your profile or sign in to sync your dashboard.
      </p>

      <!-- Create Profile -->
      <form id="regForm" class="space-y-3">
        <input id="regName"  type="text"     class="input w-full" placeholder="Full name" />
        <input id="regEmail" type="email"    class="input w-full" placeholder="Email" />
        <input id="regPass"  type="password" class="input w-full" placeholder="Password" />
        <button class="btn btn-navy w-full">Create & Continue</button>
      </form>

      <div class="my-4 text-center text-sm text-gray-500">or</div>

      <!-- Sign In -->
      <form id="loginForm" class="space-y-3">
        <input id="loginEmail" type="email"    class="input w-full" placeholder="Email" />
        <input id="loginPass"  type="password" class="input w-full" placeholder="Password" />
        <button class="btn btn-gold w-full">Sign In</button>
      </form>
    </div>
  </div>


  <!-- Include your dashboard script ONCE -->
  <script src="../js/dashboard.js" defer></script>
</body>
</html>
